import{r as c,R as o}from"./index-Du-y3j9l.js";const O=[{key:"floral",label:"Floral"},{key:"fruity",label:"Fruity"},{key:"citrus",label:"Citrus"},{key:"fresh",label:"Fresh"},{key:"woody",label:"Woody"},{key:"spicy",label:"Spicy"},{key:"sweet",label:"Sweet"},{key:"smoky",label:"Smoky"}];function j({profile:x={},compact:i=!1}){const v=c.useRef(null),[z,I]=c.useState(0);c.useEffect(()=>{const t=v.current;if(!t)return;const e=new ResizeObserver(s=>{for(const n of s)I(Math.floor(n.contentRect.width))});return e.observe(t),()=>e.disconnect()},[]);const a=Math.max(160,Math.min(420,z||(i?240:300))),W=i?14:16,S=5,E=5,l=c.useMemo(()=>O,[]),R=c.useMemo(()=>{const t=e=>Math.max(0,Math.min(S,Number(e||0)));return l.map(e=>({label:e.label,key:e.key,value:t(x[e.key])}))},[x,l]),{cx:f,cy:g,r:d,angleStep:$,pts:p,gridLevels:F}=c.useMemo(()=>{const t=i?12:16,e=a/2,s=a/2,n=a/2-t,r=Math.PI*2/l.length,y=[];for(let m=1;m<=E;m++){const h=m/E,k=l.map((M,u)=>{const P=-Math.PI/2+u*r;return[e+Math.cos(P)*n*h,s+Math.sin(P)*n*h]});y.push(k)}const b=l.map((m,h)=>{const k=R[h]?.value??0,M=-Math.PI/2+h*r,u=k/S*n;return[e+Math.cos(M)*u,s+Math.sin(M)*u]});return{cx:e,cy:s,r:n,angleStep:r,pts:b,gridLevels:y}},[a,l,R,i]),N=c.useMemo(()=>p.map(([t,e])=>`${t},${e}`).join(" "),[p]),L=i?10:12,w=i?8:12;return o.createElement("div",{className:"glass",style:{padding:12,borderRadius:16},ref:v},o.createElement("div",{className:"heading",style:{fontSize:W,margin:"0 0 8px"}},"Scent Profile"),o.createElement("div",{style:{width:"100%",height:a}},o.createElement("svg",{width:a,height:a,viewBox:`0 0 ${a} ${a}`,role:"img","aria-label":"Scent profile radar"},F.map((t,e)=>o.createElement("polygon",{key:`grid-${e}`,points:t.map(([s,n])=>`${s},${n}`).join(" "),fill:"none",stroke:"rgba(255,255,255,.15)",strokeWidth:"1"})),l.map((t,e)=>{const s=-Math.PI/2+e*$,n=f+Math.cos(s)*d,r=g+Math.sin(s)*d;return o.createElement("line",{key:`axis-${e}`,x1:f,y1:g,x2:n,y2:r,stroke:"rgba(255,255,255,.15)",strokeWidth:"1"})}),o.createElement("polygon",{points:N,fill:"rgba(212,175,55,.28)",stroke:"rgba(212,175,55,.9)",strokeWidth:2}),p.map(([t,e],s)=>o.createElement("circle",{key:`dot-${s}`,cx:t,cy:e,r:3,fill:"rgba(212,175,55,.9)"})),l.map((t,e)=>{const s=-Math.PI/2+e*$,n=f+Math.cos(s)*(d+w),r=g+Math.sin(s)*(d+w),y=Math.cos(s),b=y>.2?"start":y<-.2?"end":"middle";return o.createElement("text",{key:`lab-${t.key}`,x:n,y:r,textAnchor:b,dominantBaseline:"middle",style:{fontSize:L,fill:"var(--muted)",opacity:.9}},t.label)}))))}export{j as default};
